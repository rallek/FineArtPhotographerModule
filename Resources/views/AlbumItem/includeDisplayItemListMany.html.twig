{# purpose of this template: inclusion template for display of related album items #}
{% set hasAdminPermission = hasPermission('RKFineArtPhotographerModule:AlbumItem:', '::', 'ACCESS_EDIT') %}
{% set hasEditPermission = hasPermission('RKFineArtPhotographerModule:AlbumItem:', '::', 'ACCESS_EDIT') %}
{% if noLink is not defined %}
    {% set noLink = false %}
{% endif %}
{% if items|default and items|length > 0 %}
<div id="flexImageParameters" class="hidden" data-row-height="{{ getModVar('RKFineArtPhotographerModule', 'rowHeight') }}"></div>
{% if getModVar('RKFineArtPhotographerModule', 'rowHeight') == true %}
	{% set myRowHeight = getModVar('RKFineArtPhotographerModule', 'rowHeight', '200') %}
	{% set maxThumbWidth = myRowHeight * 10 %}
	{% set myThumbOptions = {thumbnail: {size: [maxThumbWidth, myRowHeight], mode: 'inset' }} %}
{% else %}
	{% set myThumbOptions = {thumbnail: {size: [570, 180], mode: 'inset' }} %}
{% endif %}


 



<div id="rk-album" class="flex-images">
{% for item in items %}




{% if item.image is not empty and item.imageMeta.isImage %}

{% set dataCaption = '' %}
{% set albumItemUrl = path('rkfineartphotographermodule_albumitem_' ~ routeArea ~ 'display', {'id': item.getId()}) %}
{% if item.copyright is not empty %}
	{% set dataCaption = 'Copyright: ' ~ item.copyright ~ '&lt;br /&gt;' %}
{%endif%}
{% set dataCaption = dataCaption ~ item.imageTitle ~ '&lt;br /&gt;' ~ item.imageDescription ~ '&lt;br /&gt; Mehr: &lt;a href=&quot;' ~ albumItemUrl ~ '&quot;&gt;Detail&lt;/a&gt;' %}
{% set myImageWidth = myRowHeight * item.imageMeta.width / item.imageMeta.height %}
<a href="{{ item.imageUrl }}" data-fancybox="gallery" data-caption="{{dataCaption|raw}}"  >  
    <div class="item" data-w="{{myImageWidth}}" data-h="{{myRowHeight}}">
	<img src="{{ item.image.getPathname()|imagine_filter('zkroot', myThumbOptions) }}" alt="{{ item|rkfineartphotographermodule_formattedTitle|e('html_attr') }}"  />
	</div>
</a>
{% endif %}
{% endfor %}
</div>

{% endif %}
 